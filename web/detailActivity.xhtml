<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f = "http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
    <style>html,body,h1,h2,h3,h4,h5 {font-family: "Raleway", sans-serif}</style>


    <h:head class="w3-container" >
        <link rel="stylesheet" href="css/style.css" type="text/css"></link>
        <link rel="stylesheet" href="css/chart.css" type="text/css"></link>

        <!-- carte openstreetMap-->
        <meta charset="utf-8"></meta>


        <title>Activities management</title>
    </h:head>

    <h:body style="background-image:url(images/back.png); background-size:cover ; background-repeat: no-repeat" >   

        <ui:include src="/menu.xhtml"/>
        <br/>
        <div id="block" align="center" > 
            <br/>
            Activities management :
            <br/><br/> 
        </div>



        <h:form> 
            <h:form>
                <h:outputText id="txt_count" value="#{counterView.number}"  />
                <p:poll interval="3" listener="#{counterView.increment}" update="txt_count" />
            </h:form>

            <p:commandButton value="Play" id="play" update="" action="#{buttonView.buttonAction}" style="margin-right:20px;" />

            <p:commandButton value="STOP" id="stop" update="" action="#{buttonView.buttonAction}" style="margin-right:20px;"  />

        </h:form>


        <br/><br/> <br/><br/> 


        <p:panelGrid columns="3" style="display: inline-line ; width: 100%">

            <h:form style="display: inline-block ">
                <p:poll interval="3" update="pwr" />
                <p:panelGrid id ="panPWR" columns="2" >
                    <f:facet name="header">Power</f:facet>
                    <p:outputLabel value="PWR :" />
                    <p:outputLabel id="pwr" value="#{activityBean.liveDataActivity.pwr} Watts"/>
                </p:panelGrid>
            </h:form>

            <h:form style="display: inline-block "> 
                <p:poll interval="3" update="cad" />
                <p:panelGrid id ="panCAD" columns="2" >
                    <f:facet name="header">CAD</f:facet>
                    <p:outputLabel value="CAD :" />
                    <p:outputLabel id="cad" value="#{activityBean.liveDataActivity.cad} RPM"/>
                </p:panelGrid>
            </h:form>

            <h:form style="display: inline-block"> 
                <p:poll interval="3" update="hrm" />
                <p:panelGrid id ="panHRM" columns="2" >
                    <f:facet name="header">HRM</f:facet>
                    <p:outputLabel value="HRM :" />
                    <p:outputLabel id="hrm" value="#{activityBean.liveDataActivity.hrm} HRM"/>
                </p:panelGrid>
            </h:form>

            <h:form style="display: inline-block"> 
                <p:poll interval="3" update="speed" />
                <p:panelGrid id ="panSPEED" columns="2" >
                    <f:facet name="header">SPEED</f:facet>
                    <p:outputLabel value="SPEED :" />
                    <p:outputLabel id="speed" value="#{activityBean.liveDataActivity.speed} SPEED"/>
                </p:panelGrid>
            </h:form>

            <h:form style="display: inline-block"> 
                <p:poll interval="3" update="distance" />
                <p:panelGrid id ="panDistance" columns="2" >
                    <f:facet name="header">DISTANCE</f:facet>
                    <p:outputLabel value="DISTANCE :" />
                    <p:outputLabel id="distance" value="#{activityBean.liveDataActivity.distance} DISTANCE"/>
                </p:panelGrid>
            </h:form>


        </p:panelGrid>







        <br/><br/>





        <h:form id="Timedist">
            <p:poll interval="1" update="Timedist" />
            <p:chart type="line" model="#{detailActivityBean.lineModelTime}" style="background-color: blanchedalmond; width: 100%;height:500px"/>
        </h:form>

        <br/><br/><br/><br/>

        <h:form id="Powerform">
            <p:poll interval="1" update="Power" />
            <p:chart id="Power" type="line" model="#{detailActivityBean.lineModel}" style="background-color: blanchedalmond; width: 100%;height:500px;"/>
        </h:form>

        <br/><br/><br/><br/>


        <h:form id="Cadence">
            <p:poll interval="1" update="Cadence" />
            <p:chart type="line" model="#{detailActivityBean.lineModelCad}" style="background-color: blanchedalmond; width: 100%;height:500px;"/>
        </h:form>

        <br/><br/><br/><br/>

        <h:form id="HRM">
            <p:poll interval="1" update="HRM" />
            <p:chart type="line" model="#{detailActivityBean.lineModelHrm}" style="background-color: blanchedalmond; width: 100%;height:500px"/>
        </h:form>

        <br/><br/><br/><br/>




    </h:body>
</html>

